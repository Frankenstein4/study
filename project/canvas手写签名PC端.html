<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <style>
        canvas {
            border: 1px solid #e6e6e6;
        }
        .sub {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <input type="radio" name="tool" id="huabi" checked><label for="huabi">画笔</label>
        <input type="radio" name="tool" id="shuazi"><label for="shuazi">刷子</label>
        <input type="radio" name="tool" id="penqiang"><label for="penqiang">喷枪</label>
        <input type="radio" name="tool" id="xiangpi"><label for="xiangpi">橡皮</label>
        <button onclick="clearAre()">清除</button>
        <button onclick="aa()">保存</button>
        <div class="sub">
            <select>
                <option>rect</option>
                <option>circle</option>
            </select>
            <label>大小(px)</label><input value = '10' class="size">               
        </div>     
    </div>
    <canvas width = "400" height = "400" id="myCanvas"></canvas>
    <div class="saveimgs " style="background:#fff;">
        <img src="" id="saveimgs">
    </div>
    <script src="index.js"></script>
    <script src="jquery.min.js"></script>
    <script>
    var ctx = document.getElementById('myCanvas').getContext("2d");
    var c = document.getElementById("myCanvas");
    var saveimgs = document.getElementsByClassName("saveimgs")[0];
    function aa(){
        var image = c.toDataURL("image/png");
        console.log(image);

        // var ctximg = document.createElement("span");
        // ctximg.innerHTML = "<img src='"+image+"' alt='from canvas'/>";
        // if(saveimgs.getElementsByTagName('span').length >= 1){
        //     var span_old = saveimgs.getElementsByTagName("span")[0];
        //     saveimgs.replaceChild(ctximg,span_old)
        // }
        // else{
            
        //     saveimgs.appendChild(ctximg);
        // }

        $('#saveimgs').attr('src',image);
    }
    function clearAre() {
        // Use the identity matrix while clearing the canvas
        ctx.setTransform(1, 0, 0, 1, 0, 0);
        ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
 
        // 清除签名图片
        if(saveimgs.getElementsByTagName('span').length >= 1){
            var clearImg = saveimgs.getElementsByTagName('span')[0];
            saveimgs.removeChild(clearImg);
        }
 
    }
    </script>
</body>
</html>