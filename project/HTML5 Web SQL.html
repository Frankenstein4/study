HTML5 web sql 数据库  
websql主要是依托浏览器环境下一种离线存储方式，主要是用于关系性数据库，与sqllite相似

核心方法：
openDatabase  这个方法使用现有的数据库或者新建的数据库创建一个数据库对象。

transaction  这个方法让我们能够控制一个事务，以及基于这种情况执行提交或者回滚。(为数据库的事务函数，所有操作都需要经过事务处理，如果中间出同SQL语句错误则事务进行回事，所括建表语句都会回滚（ORACLE 里面PLSQL建表是不会回滚的，最开始在这块整蒙了）)

executeSql  这个方法用于执行实际的 SQL 查询。
注：executeSql语句也可以有回调
如下面例子既有动态也有回调
tx.executeSql("update t9 set DOWNLOADEDTIME=? where ID='4' ",[nowDate],function(tx,result){
                          
},function(){ });



打开数据库
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
1:数据库名称
2：版本号
3：描述文本
4:数据库大小
5:创建回调(可为空)

var db = openDatabase("appdb", "1.0", "appdatabase", 1024 * 1024 * 100, function(result) {
	console.log("首页:创建数据库成功");
	db = result;
});
if(!db) {
	console.log("数据库创建失败！");
	return;
} else {
	console.log("数据库创建成功！");
}



创建表
trancaction 为数据库的事务函数，所有操作都需要经过事务处理，如果中间出同SQL语句错误则事务进行回事，所括建表语句都会回滚（ORACLE 里面PLSQL建表是不会回滚的，最开始在这块整蒙了）
1、操作块
2、事物失败的回调函数
3、事务成功地回调函数
db.transaction(function(tx) {
	var sql = "CREATE TABLE IF NOT EXISTS ServerInfo (XF_XJ TEXT)";
	tx.executeSql(sql, []);
   }, function(error) {
	//执行失败的回调函数
	console.log("数据初始化失败，失败原因：" + error.message);
   }, function(result) {
	//执行成功的回调函数
	console.log("数据初始化成功");
});

CREATE TABLE IF NOT EXISTS ServerInfo (XF_XJ TEXT);
在建表语句里IF NOT EXISTS表示判断表是否存在，如果存在则不建表(注意的是，如果不添加此语句，在新建时如果表已存在，他会重新建立，表内的数据则会清空)


增加、删除、修改
在增加删除修改内也需要用到transaction方法，通过executeSql可进行增加删除修改等操作
1、sql语句
2、sql参数
3、成功回调函数
4、失败回调函数


插入数据：
db.transaction(function(tx) { 
	var sql = "insert into CaoZuoYuan(user,name,
	password)values('0001','系统管理员','12345')";
	tx.executeSql(sql, []);
	
});
直接声场sql语句，也可以用参数的方法
db.transaction(function(tx) { 

    var sql = "insert into CaoZuoYuan(user)values(?)";
    tx.executeSql(sql, ['0001']);
 
});
或者这样
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
db.transaction(function (tx) {
   tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (1, "W3Cschool教程")');
   tx.executeSql('INSERT INTO LOGS (id, log) VALUES (2, "www.w3cschool.cn")');
});
也可以动态
var db = openDatabase('mydb', '1.0', 'Test DB', 2 * 1024 * 1024);
db.transaction(function (tx) {  
  tx.executeSql('CREATE TABLE IF NOT EXISTS LOGS (id unique, log)');
  tx.executeSql('INSERT INTO LOGS (id,log) VALUES (?, ?)', [e_id, e_log]);
});
实例中的 e_id 和 e_log 是外部变量，executeSql 会映射数组参数中的每个条目给 "?"。


删除数据：
db.transaction(function (tx) {
	tx.executeSql('DELETE FROM LOGS  WHERE id=1');
});
也可以是动态的：
db.transaction(function(tx) {
	tx.executeSql('DELETE FROM LOGS WHERE id=?', [id]);
});




更新记录：
db.transaction(function (tx) {
	tx.executeSql('UPDATE LOGS SET log=\'www.w3cschool.cc\' WHERE id=2');
});
也可以是动态的：
db.transaction(function(tx) {
	tx.executeSql('UPDATE LOGS SET log=\'www.w3cschool.cc\' WHERE id=?', [id]);
});
所以set是更新啊




查询功能
1、判断数据是否存在
db.transaction(function(tx) {

	tx.executeSql('select * from  CaoZuoYuan', [], function(tx, results) {
		var len = results.rows.length;
		if (len<1)
		{
			var sql = "insert into  CaoZuoYuan(user,name,password)values('0001','系统管理员','12345')";
			tx.executeSql(sql, []);
		}
	});
});

2、查询数据并循环到列表
db.transaction(function(tx) {
	tx.executeSql('select * from  CaoZuoYuan where user="' + appview.user_id + '"', [], function(tx, results) {
		len = results.rows.length;
		if(len < 1) {
			alert("用户名或密码错误！");
		return;
		}
		for (i = 0; i < len; i++)
		{
		   alert(results.rows.item(i).name);
		}	
	}, null);
 });
